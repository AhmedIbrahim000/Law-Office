{% extends 'base.html' %}

{% block content %}
    {% if user.is_authenticated %}
    <div class="jumbotron">
        <h2>العملاء</h2>
        <div class="d-grid gap-2 d-md-flex justify-content-md-end">
            <a href="{% url 'add_client' %}" class="btn btn-primary">إضافة عميل +</a>
        </div>

        <section style="max-width: 100%;
                        height: max-content;
                        margin-top: 10px;
                        padding: 10px;
                        box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
                        border-radius: 20px;
                        overflow-x: auto;">
            <div style="display: flex; justify-content: space-between;">
                <div class="container-fluid">
                    <form class="d-flex" role="search">
                        <input class="form-control me-2" type="text" placeholder="بحث" id="myInput" onkeyup="clientSearch()" aria-label="Search" style="width: 500px; border-color: burlywood;">
                    </form>
                </div>
            </div>
            {% if clients %}
            <table class="table table-hover" id="myTable" style="margin-top: 5px;">
                <thead>
                  <tr>
                    <th scope="col">م</th>
                    <th scope="col">ر ق</th>
                    <th scope="col">الاسم</th>
                    <th scope="col">الجنس</th>
                    <th scope="col">تاريخ الميلاد</th>
                    <th scope="col">البريد الإلكتروني</th>
                    <th scope="col">رقم المحمول</th>
                    <th scope="col">العنوان</th>
                    <th scope="col">المحافظة</th>
                    <th scope="col">المدينة</th>
                  </tr>
                </thead>
                <tbody class="table-group-divider">
                  {% for client in clients %}
                      <tr>
                        <td>{{ forloop.counter }}</td>
                        <td><a href="{% url 'client_details' client.id %}" class="button-link">{{client.client_id}}</a></td>
                        <td>{{client.client_name}}</td>
                        <td>{{client.gender}}</td>
                        <td>{{client.Date_Of_Birth}}</td>
                        <td>{{client.email}}</td>
                        <td>{{client.mobile}}</td>
                        <td>{{client.address}}</td>
                        <td>{{client.state}}</td>
                        <td>{{client.city}}</td>
                      </tr>
                  {% endfor %}
                </tbody>
            </table>
            {% else %}
            {% endif %}

            <!--<div class="d-grid gap-2 d-md-flex justify-content-md-end">
                <button type="button" class="btn btn-secondary btn-sm">السابق</button>
                <button type="button" class="btn btn-secondary btn-sm">التالي</button>
            </div>-->
        </section>
    </div>
    <!--<a href="">العودة<a>-->
        
    {% else %}
    {% endif%}
{% endblock %}


<!--<div class="form-check form-switch">
<input class="form-check-input ms-auto" type="checkbox" role="switch" id="flexSwitchCheckDefault">
<label class="form-check-label" for="flexSwitchCheckDefault"></label>
</div>-->